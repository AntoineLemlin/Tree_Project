{"version":3,"file":"js/86f7ada07f4cbb8355a0.js","mappings":"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","sources":["webpack:///../../node_modules/@pixi/utils/lib/utils.es.js"],"sourcesContent":["/*!\n * @pixi/utils - v5.3.11\n * Compiled Mon, 01 Nov 2021 16:10:12 UTC\n *\n * @pixi/utils is licensed under the MIT License.\n * http://www.opensource.org/licenses/mit-license\n */\nimport { settings } from '@pixi/settings';\nexport { isMobile } from '@pixi/settings';\nexport { default as EventEmitter } from 'eventemitter3';\nexport { default as earcut } from 'earcut';\nimport { parse } from 'url';\nexport { default as url } from 'url';\nimport { BLEND_MODES } from '@pixi/constants';\n\n/**\n * The prefix that denotes a URL is for a retina asset.\n *\n * @static\n * @name RETINA_PREFIX\n * @memberof PIXI.settings\n * @type {RegExp}\n * @default /@([0-9\\.]+)x/\n * @example `@2x`\n */\nsettings.RETINA_PREFIX = /@([0-9\\.]+)x/;\n/**\n * Should the `failIfMajorPerformanceCaveat` flag be enabled as a context option used in the `isWebGLSupported` function.\n * For most scenarios this should be left as true, as otherwise the user may have a poor experience.\n * However, it can be useful to disable under certain scenarios, such as headless unit tests.\n *\n * @static\n * @name FAIL_IF_MAJOR_PERFORMANCE_CAVEAT\n * @memberof PIXI.settings\n * @type {boolean}\n * @default true\n */\nsettings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT = true;\n\nvar saidHello = false;\nvar VERSION = '5.3.11';\n/**\n * Skips the hello message of renderers that are created after this is run.\n *\n * @function skipHello\n * @memberof PIXI.utils\n */\nfunction skipHello() {\n    saidHello = true;\n}\n/**\n * Logs out the version and renderer information for this running instance of PIXI.\n * If you don't want to see this message you can run `PIXI.utils.skipHello()` before\n * creating your renderer. Keep in mind that doing that will forever make you a jerk face.\n *\n * @static\n * @function sayHello\n * @memberof PIXI.utils\n * @param {string} type - The string renderer type to log.\n */\nfunction sayHello(type) {\n    var _a;\n    if (saidHello) {\n        return;\n    }\n    if (navigator.userAgent.toLowerCase().indexOf('chrome') > -1) {\n        var args = [\n            \"\\n %c %c %c PixiJS \" + VERSION + \" - \\u2730 \" + type + \" \\u2730  %c  %c  http://www.pixijs.com/  %c %c \\u2665%c\\u2665%c\\u2665 \\n\\n\",\n            'background: #ff66a5; padding:5px 0;',\n            'background: #ff66a5; padding:5px 0;',\n            'color: #ff66a5; background: #030307; padding:5px 0;',\n            'background: #ff66a5; padding:5px 0;',\n            'background: #ffc3dc; padding:5px 0;',\n            'background: #ff66a5; padding:5px 0;',\n            'color: #ff2424; background: #fff; padding:5px 0;',\n            'color: #ff2424; background: #fff; padding:5px 0;',\n            'color: #ff2424; background: #fff; padding:5px 0;' ];\n        (_a = window.console).log.apply(_a, args);\n    }\n    else if (window.console) {\n        window.console.log(\"PixiJS \" + VERSION + \" - \" + type + \" - http://www.pixijs.com/\");\n    }\n    saidHello = true;\n}\n\nvar supported;\n/**\n * Helper for checking for WebGL support.\n *\n * @memberof PIXI.utils\n * @function isWebGLSupported\n * @return {boolean} Is WebGL supported.\n */\nfunction isWebGLSupported() {\n    if (typeof supported === 'undefined') {\n        supported = (function supported() {\n            var contextOptions = {\n                stencil: true,\n                failIfMajorPerformanceCaveat: settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT,\n            };\n            try {\n                if (!window.WebGLRenderingContext) {\n                    return false;\n                }\n                var canvas = document.createElement('canvas');\n                var gl = (canvas.getContext('webgl', contextOptions)\n                    || canvas.getContext('experimental-webgl', contextOptions));\n                var success = !!(gl && gl.getContextAttributes().stencil);\n                if (gl) {\n                    var loseContext = gl.getExtension('WEBGL_lose_context');\n                    if (loseContext) {\n                        loseContext.loseContext();\n                    }\n                }\n                gl = null;\n                return success;\n            }\n            catch (e) {\n                return false;\n            }\n        })();\n    }\n    return supported;\n}\n\n/**\n * Converts a hexadecimal color number to an [R, G, B] array of normalized floats (numbers from 0.0 to 1.0).\n *\n * @example\n * PIXI.utils.hex2rgb(0xffffff); // returns [1, 1, 1]\n * @memberof PIXI.utils\n * @function hex2rgb\n * @param {number} hex - The hexadecimal number to convert\n * @param  {number[]} [out=[]] - If supplied, this array will be used rather than returning a new one\n * @return {number[]} An array representing the [R, G, B] of the color where all values are floats.\n */\nfunction hex2rgb(hex, out) {\n    if (out === void 0) { out = []; }\n    out[0] = ((hex >> 16) & 0xFF) / 255;\n    out[1] = ((hex >> 8) & 0xFF) / 255;\n    out[2] = (hex & 0xFF) / 255;\n    return out;\n}\n/**\n * Converts a hexadecimal color number to a string.\n *\n * @example\n * PIXI.utils.hex2string(0xffffff); // returns \"#ffffff\"\n * @memberof PIXI.utils\n * @function hex2string\n * @param {number} hex - Number in hex (e.g., `0xffffff`)\n * @return {string} The string color (e.g., `\"#ffffff\"`).\n */\nfunction hex2string(hex) {\n    var hexString = hex.toString(16);\n    hexString = '000000'.substr(0, 6 - hexString.length) + hexString;\n    return \"#\" + hexString;\n}\n/**\n * Converts a hexadecimal string to a hexadecimal color number.\n *\n * @example\n * PIXI.utils.string2hex(\"#ffffff\"); // returns 0xffffff\n * @memberof PIXI.utils\n * @function string2hex\n * @param {string} string - The string color (e.g., `\"#ffffff\"`)\n * @return {number} Number in hexadecimal.\n */\nfunction string2hex(string) {\n    if (typeof string === 'string' && string[0] === '#') {\n        string = string.substr(1);\n    }\n    return parseInt(string, 16);\n}\n/**\n * Converts a color as an [R, G, B] array of normalized floats to a hexadecimal number.\n *\n * @example\n * PIXI.utils.rgb2hex([1, 1, 1]); // returns 0xffffff\n * @memberof PIXI.utils\n * @function rgb2hex\n * @param {number[]} rgb - Array of numbers where all values are normalized floats from 0.0 to 1.0.\n * @return {number} Number in hexadecimal.\n */\nfunction rgb2hex(rgb) {\n    return (((rgb[0] * 255) << 16) + ((rgb[1] * 255) << 8) + (rgb[2] * 255 | 0));\n}\n\n/**\n * Corrects PixiJS blend, takes premultiplied alpha into account\n *\n * @memberof PIXI.utils\n * @function mapPremultipliedBlendModes\n * @private\n * @return {Array<number[]>} Mapped modes.\n */\nfunction mapPremultipliedBlendModes() {\n    var pm = [];\n    var npm = [];\n    for (var i = 0; i < 32; i++) {\n        pm[i] = i;\n        npm[i] = i;\n    }\n    pm[BLEND_MODES.NORMAL_NPM] = BLEND_MODES.NORMAL;\n    pm[BLEND_MODES.ADD_NPM] = BLEND_MODES.ADD;\n    pm[BLEND_MODES.SCREEN_NPM] = BLEND_MODES.SCREEN;\n    npm[BLEND_MODES.NORMAL] = BLEND_MODES.NORMAL_NPM;\n    npm[BLEND_MODES.ADD] = BLEND_MODES.ADD_NPM;\n    npm[BLEND_MODES.SCREEN] = BLEND_MODES.SCREEN_NPM;\n    var array = [];\n    array.push(npm);\n    array.push(pm);\n    return array;\n}\n/**\n * maps premultiply flag and blendMode to adjusted blendMode\n * @memberof PIXI.utils\n * @const premultiplyBlendMode\n * @type {Array<number[]>}\n */\nvar premultiplyBlendMode = mapPremultipliedBlendModes();\n/**\n * changes blendMode according to texture format\n *\n * @memberof PIXI.utils\n * @function correctBlendMode\n * @param {number} blendMode - supposed blend mode\n * @param {boolean} premultiplied - whether source is premultiplied\n * @returns {number} true blend mode for this texture\n */\nfunction correctBlendMode(blendMode, premultiplied) {\n    return premultiplyBlendMode[premultiplied ? 1 : 0][blendMode];\n}\n/**\n * combines rgb and alpha to out array\n *\n * @memberof PIXI.utils\n * @function premultiplyRgba\n * @param {Float32Array|number[]} rgb - input rgb\n * @param {number} alpha - alpha param\n * @param {Float32Array} [out] - output\n * @param {boolean} [premultiply=true] - do premultiply it\n * @returns {Float32Array} vec4 rgba\n */\nfunction premultiplyRgba(rgb, alpha, out, premultiply) {\n    out = out || new Float32Array(4);\n    if (premultiply || premultiply === undefined) {\n        out[0] = rgb[0] * alpha;\n        out[1] = rgb[1] * alpha;\n        out[2] = rgb[2] * alpha;\n    }\n    else {\n        out[0] = rgb[0];\n        out[1] = rgb[1];\n        out[2] = rgb[2];\n    }\n    out[3] = alpha;\n    return out;\n}\n/**\n * premultiplies tint\n *\n * @memberof PIXI.utils\n * @function premultiplyTint\n * @param {number} tint - integer RGB\n * @param {number} alpha - floating point alpha (0.0-1.0)\n * @returns {number} tint multiplied by alpha\n */\nfunction premultiplyTint(tint, alpha) {\n    if (alpha === 1.0) {\n        return (alpha * 255 << 24) + tint;\n    }\n    if (alpha === 0.0) {\n        return 0;\n    }\n    var R = ((tint >> 16) & 0xFF);\n    var G = ((tint >> 8) & 0xFF);\n    var B = (tint & 0xFF);\n    R = ((R * alpha) + 0.5) | 0;\n    G = ((G * alpha) + 0.5) | 0;\n    B = ((B * alpha) + 0.5) | 0;\n    return (alpha * 255 << 24) + (R << 16) + (G << 8) + B;\n}\n/**\n * converts integer tint and float alpha to vec4 form, premultiplies by default\n *\n * @memberof PIXI.utils\n * @function premultiplyTintToRgba\n * @param {number} tint - input tint\n * @param {number} alpha - alpha param\n * @param {Float32Array} [out] output\n * @param {boolean} [premultiply=true] - do premultiply it\n * @returns {Float32Array} vec4 rgba\n */\nfunction premultiplyTintToRgba(tint, alpha, out, premultiply) {\n    out = out || new Float32Array(4);\n    out[0] = ((tint >> 16) & 0xFF) / 255.0;\n    out[1] = ((tint >> 8) & 0xFF) / 255.0;\n    out[2] = (tint & 0xFF) / 255.0;\n    if (premultiply || premultiply === undefined) {\n        out[0] *= alpha;\n        out[1] *= alpha;\n        out[2] *= alpha;\n    }\n    out[3] = alpha;\n    return out;\n}\n\n/**\n * Generic Mask Stack data structure\n *\n * @memberof PIXI.utils\n * @function createIndicesForQuads\n * @param {number} size - Number of quads\n * @param {Uint16Array|Uint32Array} [outBuffer] - Buffer for output, length has to be `6 * size`\n * @return {Uint16Array|Uint32Array} - Resulting index buffer\n */\nfunction createIndicesForQuads(size, outBuffer) {\n    if (outBuffer === void 0) { outBuffer = null; }\n    // the total number of indices in our array, there are 6 points per quad.\n    var totalIndices = size * 6;\n    outBuffer = outBuffer || new Uint16Array(totalIndices);\n    if (outBuffer.length !== totalIndices) {\n        throw new Error(\"Out buffer length is incorrect, got \" + outBuffer.length + \" and expected \" + totalIndices);\n    }\n    // fill the indices with the quads to draw\n    for (var i = 0, j = 0; i < totalIndices; i += 6, j += 4) {\n        outBuffer[i + 0] = j + 0;\n        outBuffer[i + 1] = j + 1;\n        outBuffer[i + 2] = j + 2;\n        outBuffer[i + 3] = j + 0;\n        outBuffer[i + 4] = j + 2;\n        outBuffer[i + 5] = j + 3;\n    }\n    return outBuffer;\n}\n\nfunction getBufferType(array) {\n    if (array.BYTES_PER_ELEMENT === 4) {\n        if (array instanceof Float32Array) {\n            return 'Float32Array';\n        }\n        else if (array instanceof Uint32Array) {\n            return 'Uint32Array';\n        }\n        return 'Int32Array';\n    }\n    else if (array.BYTES_PER_ELEMENT === 2) {\n        if (array instanceof Uint16Array) {\n            return 'Uint16Array';\n        }\n    }\n    else if (array.BYTES_PER_ELEMENT === 1) {\n        if (array instanceof Uint8Array) {\n            return 'Uint8Array';\n        }\n    }\n    // TODO map out the rest of the array elements!\n    return null;\n}\n\n/* eslint-disable object-shorthand */\nvar map = { Float32Array: Float32Array, Uint32Array: Uint32Array, Int32Array: Int32Array, Uint8Array: Uint8Array };\nfunction interleaveTypedArrays(arrays, sizes) {\n    var outSize = 0;\n    var stride = 0;\n    var views = {};\n    for (var i = 0; i < arrays.length; i++) {\n        stride += sizes[i];\n        outSize += arrays[i].length;\n    }\n    var buffer = new ArrayBuffer(outSize * 4);\n    var out = null;\n    var littleOffset = 0;\n    for (var i = 0; i < arrays.length; i++) {\n        var size = sizes[i];\n        var array = arrays[i];\n        /*\n        @todo This is unsafe casting but consistent with how the code worked previously. Should it stay this way\n              or should and `getBufferTypeUnsafe` function be exposed that throws an Error if unsupported type is passed?\n         */\n        var type = getBufferType(array);\n        if (!views[type]) {\n            views[type] = new map[type](buffer);\n        }\n        out = views[type];\n        for (var j = 0; j < array.length; j++) {\n            var indexStart = ((j / size | 0) * stride) + littleOffset;\n            var index = j % size;\n            out[indexStart + index] = array[j];\n        }\n        littleOffset += size;\n    }\n    return new Float32Array(buffer);\n}\n\n// Taken from the bit-twiddle package\n/**\n * Rounds to next power of two.\n *\n * @function nextPow2\n * @memberof PIXI.utils\n * @param {number} v - input value\n * @return {number}\n */\nfunction nextPow2(v) {\n    v += v === 0 ? 1 : 0;\n    --v;\n    v |= v >>> 1;\n    v |= v >>> 2;\n    v |= v >>> 4;\n    v |= v >>> 8;\n    v |= v >>> 16;\n    return v + 1;\n}\n/**\n * Checks if a number is a power of two.\n *\n * @function isPow2\n * @memberof PIXI.utils\n * @param {number} v - input value\n * @return {boolean} `true` if value is power of two\n */\nfunction isPow2(v) {\n    return !(v & (v - 1)) && (!!v);\n}\n/**\n * Computes ceil of log base 2\n *\n * @function log2\n * @memberof PIXI.utils\n * @param {number} v - input value\n * @return {number} logarithm base 2\n */\nfunction log2(v) {\n    var r = (v > 0xFFFF ? 1 : 0) << 4;\n    v >>>= r;\n    var shift = (v > 0xFF ? 1 : 0) << 3;\n    v >>>= shift;\n    r |= shift;\n    shift = (v > 0xF ? 1 : 0) << 2;\n    v >>>= shift;\n    r |= shift;\n    shift = (v > 0x3 ? 1 : 0) << 1;\n    v >>>= shift;\n    r |= shift;\n    return r | (v >> 1);\n}\n\n/**\n * Remove items from a javascript array without generating garbage\n *\n * @function removeItems\n * @memberof PIXI.utils\n * @param {Array<any>} arr - Array to remove elements from\n * @param {number} startIdx - starting index\n * @param {number} removeCount - how many to remove\n */\nfunction removeItems(arr, startIdx, removeCount) {\n    var length = arr.length;\n    var i;\n    if (startIdx >= length || removeCount === 0) {\n        return;\n    }\n    removeCount = (startIdx + removeCount > length ? length - startIdx : removeCount);\n    var len = length - removeCount;\n    for (i = startIdx; i < len; ++i) {\n        arr[i] = arr[i + removeCount];\n    }\n    arr.length = len;\n}\n\n/**\n * Returns sign of number\n *\n * @memberof PIXI.utils\n * @function sign\n * @param {number} n - the number to check the sign of\n * @returns {number} 0 if `n` is 0, -1 if `n` is negative, 1 if `n` is positive\n */\nfunction sign(n) {\n    if (n === 0)\n        { return 0; }\n    return n < 0 ? -1 : 1;\n}\n\nvar nextUid = 0;\n/**\n * Gets the next unique identifier\n *\n * @memberof PIXI.utils\n * @function uid\n * @return {number} The next unique identifier to use.\n */\nfunction uid() {\n    return ++nextUid;\n}\n\n// A map of warning messages already fired\nvar warnings = {};\n/**\n * Helper for warning developers about deprecated features & settings.\n * A stack track for warnings is given; useful for tracking-down where\n * deprecated methods/properties/classes are being used within the code.\n *\n * @memberof PIXI.utils\n * @function deprecation\n * @param {string} version - The version where the feature became deprecated\n * @param {string} message - Message should include what is deprecated, where, and the new solution\n * @param {number} [ignoreDepth=3] - The number of steps to ignore at the top of the error stack\n *        this is mostly to ignore internal deprecation calls.\n */\nfunction deprecation(version, message, ignoreDepth) {\n    if (ignoreDepth === void 0) { ignoreDepth = 3; }\n    // Ignore duplicat\n    if (warnings[message]) {\n        return;\n    }\n    /* eslint-disable no-console */\n    var stack = new Error().stack;\n    // Handle IE < 10 and Safari < 6\n    if (typeof stack === 'undefined') {\n        console.warn('PixiJS Deprecation Warning: ', message + \"\\nDeprecated since v\" + version);\n    }\n    else {\n        // chop off the stack trace which includes PixiJS internal calls\n        stack = stack.split('\\n').splice(ignoreDepth).join('\\n');\n        if (console.groupCollapsed) {\n            console.groupCollapsed('%cPixiJS Deprecation Warning: %c%s', 'color:#614108;background:#fffbe6', 'font-weight:normal;color:#614108;background:#fffbe6', message + \"\\nDeprecated since v\" + version);\n            console.warn(stack);\n            console.groupEnd();\n        }\n        else {\n            console.warn('PixiJS Deprecation Warning: ', message + \"\\nDeprecated since v\" + version);\n            console.warn(stack);\n        }\n    }\n    /* eslint-enable no-console */\n    warnings[message] = true;\n}\n\n/**\n * @todo Describe property usage\n *\n * @static\n * @name ProgramCache\n * @memberof PIXI.utils\n * @type {Object}\n */\nvar ProgramCache = {};\n/**\n * @todo Describe property usage\n *\n * @static\n * @name TextureCache\n * @memberof PIXI.utils\n * @type {Object}\n */\nvar TextureCache = Object.create(null);\n/**\n * @todo Describe property usage\n *\n * @static\n * @name BaseTextureCache\n * @memberof PIXI.utils\n * @type {Object}\n */\nvar BaseTextureCache = Object.create(null);\n/**\n * Destroys all texture in the cache\n *\n * @memberof PIXI.utils\n * @function destroyTextureCache\n */\nfunction destroyTextureCache() {\n    var key;\n    for (key in TextureCache) {\n        TextureCache[key].destroy();\n    }\n    for (key in BaseTextureCache) {\n        BaseTextureCache[key].destroy();\n    }\n}\n/**\n * Removes all textures from cache, but does not destroy them\n *\n * @memberof PIXI.utils\n * @function clearTextureCache\n */\nfunction clearTextureCache() {\n    var key;\n    for (key in TextureCache) {\n        delete TextureCache[key];\n    }\n    for (key in BaseTextureCache) {\n        delete BaseTextureCache[key];\n    }\n}\n\n/**\n * Creates a Canvas element of the given size to be used as a target for rendering to.\n *\n * @class\n * @memberof PIXI.utils\n */\nvar CanvasRenderTarget = /** @class */ (function () {\n    /**\n     * @param {number} width - the width for the newly created canvas\n     * @param {number} height - the height for the newly created canvas\n     * @param {number} [resolution=1] - The resolution / device pixel ratio of the canvas\n     */\n    function CanvasRenderTarget(width, height, resolution) {\n        /**\n         * The Canvas object that belongs to this CanvasRenderTarget.\n         *\n         * @member {HTMLCanvasElement}\n         */\n        this.canvas = document.createElement('canvas');\n        /**\n         * A CanvasRenderingContext2D object representing a two-dimensional rendering context.\n         *\n         * @member {CanvasRenderingContext2D}\n         */\n        this.context = this.canvas.getContext('2d');\n        this.resolution = resolution || settings.RESOLUTION;\n        this.resize(width, height);\n    }\n    /**\n     * Clears the canvas that was created by the CanvasRenderTarget class.\n     *\n     * @private\n     */\n    CanvasRenderTarget.prototype.clear = function () {\n        this.context.setTransform(1, 0, 0, 1, 0, 0);\n        this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n    };\n    /**\n     * Resizes the canvas to the specified width and height.\n     *\n     * @param {number} width - the new width of the canvas\n     * @param {number} height - the new height of the canvas\n     */\n    CanvasRenderTarget.prototype.resize = function (width, height) {\n        this.canvas.width = width * this.resolution;\n        this.canvas.height = height * this.resolution;\n    };\n    /**\n     * Destroys this canvas.\n     *\n     */\n    CanvasRenderTarget.prototype.destroy = function () {\n        this.context = null;\n        this.canvas = null;\n    };\n    Object.defineProperty(CanvasRenderTarget.prototype, \"width\", {\n        /**\n         * The width of the canvas buffer in pixels.\n         *\n         * @member {number}\n         */\n        get: function () {\n            return this.canvas.width;\n        },\n        set: function (val) {\n            this.canvas.width = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(CanvasRenderTarget.prototype, \"height\", {\n        /**\n         * The height of the canvas buffer in pixels.\n         *\n         * @member {number}\n         */\n        get: function () {\n            return this.canvas.height;\n        },\n        set: function (val) {\n            this.canvas.height = val;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return CanvasRenderTarget;\n}());\n\n/**\n * Trim transparent borders from a canvas\n *\n * @memberof PIXI.utils\n * @function trimCanvas\n * @param {HTMLCanvasElement} canvas - the canvas to trim\n * @returns {object} Trim data\n */\nfunction trimCanvas(canvas) {\n    // https://gist.github.com/remy/784508\n    var width = canvas.width;\n    var height = canvas.height;\n    var context = canvas.getContext('2d');\n    var imageData = context.getImageData(0, 0, width, height);\n    var pixels = imageData.data;\n    var len = pixels.length;\n    var bound = {\n        top: null,\n        left: null,\n        right: null,\n        bottom: null,\n    };\n    var data = null;\n    var i;\n    var x;\n    var y;\n    for (i = 0; i < len; i += 4) {\n        if (pixels[i + 3] !== 0) {\n            x = (i / 4) % width;\n            y = ~~((i / 4) / width);\n            if (bound.top === null) {\n                bound.top = y;\n            }\n            if (bound.left === null) {\n                bound.left = x;\n            }\n            else if (x < bound.left) {\n                bound.left = x;\n            }\n            if (bound.right === null) {\n                bound.right = x + 1;\n            }\n            else if (bound.right < x) {\n                bound.right = x + 1;\n            }\n            if (bound.bottom === null) {\n                bound.bottom = y;\n            }\n            else if (bound.bottom < y) {\n                bound.bottom = y;\n            }\n        }\n    }\n    if (bound.top !== null) {\n        width = bound.right - bound.left;\n        height = bound.bottom - bound.top + 1;\n        data = context.getImageData(bound.left, bound.top, width, height);\n    }\n    return {\n        height: height,\n        width: width,\n        data: data,\n    };\n}\n\n/**\n * Regexp for data URI.\n * Based on: {@link https://github.com/ragingwind/data-uri-regex}\n *\n * @static\n * @constant {RegExp|string} DATA_URI\n * @memberof PIXI\n * @example data:image/png;base64\n */\nvar DATA_URI = /^\\s*data:(?:([\\w-]+)\\/([\\w+.-]+))?(?:;charset=([\\w-]+))?(?:;(base64))?,(.*)/i;\n\n/**\n * @memberof PIXI.utils\n * @interface DecomposedDataUri\n */\n/**\n * type, eg. `image`\n * @memberof PIXI.utils.DecomposedDataUri#\n * @member {string} mediaType\n */\n/**\n * Sub type, eg. `png`\n * @memberof PIXI.utils.DecomposedDataUri#\n * @member {string} subType\n */\n/**\n * @memberof PIXI.utils.DecomposedDataUri#\n * @member {string} charset\n */\n/**\n * Data encoding, eg. `base64`\n * @memberof PIXI.utils.DecomposedDataUri#\n * @member {string} encoding\n */\n/**\n * The actual data\n * @memberof PIXI.utils.DecomposedDataUri#\n * @member {string} data\n */\n/**\n * Split a data URI into components. Returns undefined if\n * parameter `dataUri` is not a valid data URI.\n *\n * @memberof PIXI.utils\n * @function decomposeDataUri\n * @param {string} dataUri - the data URI to check\n * @return {PIXI.utils.DecomposedDataUri|undefined} The decomposed data uri or undefined\n */\nfunction decomposeDataUri(dataUri) {\n    var dataUriMatch = DATA_URI.exec(dataUri);\n    if (dataUriMatch) {\n        return {\n            mediaType: dataUriMatch[1] ? dataUriMatch[1].toLowerCase() : undefined,\n            subType: dataUriMatch[2] ? dataUriMatch[2].toLowerCase() : undefined,\n            charset: dataUriMatch[3] ? dataUriMatch[3].toLowerCase() : undefined,\n            encoding: dataUriMatch[4] ? dataUriMatch[4].toLowerCase() : undefined,\n            data: dataUriMatch[5],\n        };\n    }\n    return undefined;\n}\n\nvar tempAnchor;\n/**\n * Sets the `crossOrigin` property for this resource based on if the url\n * for this resource is cross-origin. If crossOrigin was manually set, this\n * function does nothing.\n * Nipped from the resource loader!\n *\n * @ignore\n * @param {string} url - The url to test.\n * @param {object} [loc=window.location] - The location object to test against.\n * @return {string} The crossOrigin value to use (or empty string for none).\n */\nfunction determineCrossOrigin(url, loc) {\n    if (loc === void 0) { loc = window.location; }\n    // data: and javascript: urls are considered same-origin\n    if (url.indexOf('data:') === 0) {\n        return '';\n    }\n    // default is window.location\n    loc = loc || window.location;\n    if (!tempAnchor) {\n        tempAnchor = document.createElement('a');\n    }\n    // let the browser determine the full href for the url of this resource and then\n    // parse with the node url lib, we can't use the properties of the anchor element\n    // because they don't work in IE9 :(\n    tempAnchor.href = url;\n    var parsedUrl = parse(tempAnchor.href);\n    var samePort = (!parsedUrl.port && loc.port === '') || (parsedUrl.port === loc.port);\n    // if cross origin\n    if (parsedUrl.hostname !== loc.hostname || !samePort || parsedUrl.protocol !== loc.protocol) {\n        return 'anonymous';\n    }\n    return '';\n}\n\n/**\n * get the resolution / device pixel ratio of an asset by looking for the prefix\n * used by spritesheets and image urls\n *\n * @memberof PIXI.utils\n * @function getResolutionOfUrl\n * @param {string} url - the image path\n * @param {number} [defaultValue=1] - the defaultValue if no filename prefix is set.\n * @return {number} resolution / device pixel ratio of an asset\n */\nfunction getResolutionOfUrl(url, defaultValue) {\n    var resolution = settings.RETINA_PREFIX.exec(url);\n    if (resolution) {\n        return parseFloat(resolution[1]);\n    }\n    return defaultValue !== undefined ? defaultValue : 1;\n}\n\n/**\n * Generalized convenience utilities for PIXI.\n * @example\n * // Extend PIXI's internal Event Emitter.\n * class MyEmitter extends PIXI.utils.EventEmitter {\n *   constructor() {\n *      super();\n *      console.log(\"Emitter created!\");\n *   }\n * }\n *\n * // Get info on current device\n * console.log(PIXI.utils.isMobile);\n *\n * // Convert hex color to string\n * console.log(PIXI.utils.hex2string(0xff00ff)); // returns: \"#ff00ff\"\n * @namespace PIXI.utils\n */\n\nexport { BaseTextureCache, CanvasRenderTarget, DATA_URI, ProgramCache, TextureCache, clearTextureCache, correctBlendMode, createIndicesForQuads, decomposeDataUri, deprecation, destroyTextureCache, determineCrossOrigin, getBufferType, getResolutionOfUrl, hex2rgb, hex2string, interleaveTypedArrays, isPow2, isWebGLSupported, log2, nextPow2, premultiplyBlendMode, premultiplyRgba, premultiplyTint, premultiplyTintToRgba, removeItems, rgb2hex, sayHello, sign, skipHello, string2hex, trimCanvas, uid };\n//# sourceMappingURL=utils.es.js.map\n"],"names":["supported","saidHello","skipHello","sayHello","type","_a","navigator","userAgent","toLowerCase","indexOf","args","window","console","log","apply","isWebGLSupported","contextOptions","stencil","failIfMajorPerformanceCaveat","WebGLRenderingContext","canvas","document","createElement","gl","getContext","success","getContextAttributes","loseContext","getExtension","e","hex2rgb","hex","out","hex2string","hexString","toString","substr","length","string2hex","string","parseInt","rgb2hex","rgb","premultiplyBlendMode","pm","npm","i","array","push","mapPremultipliedBlendModes","correctBlendMode","blendMode","premultiplied","premultiplyRgba","alpha","premultiply","Float32Array","undefined","premultiplyTint","tint","R","G","B","premultiplyTintToRgba","createIndicesForQuads","size","outBuffer","totalIndices","Uint16Array","Error","j","getBufferType","BYTES_PER_ELEMENT","Uint32Array","Uint8Array","map","Int32Array","interleaveTypedArrays","arrays","sizes","outSize","stride","views","buffer","ArrayBuffer","littleOffset","nextPow2","v","isPow2","log2","r","shift","removeItems","arr","startIdx","removeCount","len","sign","n","nextUid","uid","warnings","deprecation","version","message","ignoreDepth","stack","warn","split","splice","join","groupCollapsed","groupEnd","ProgramCache","TextureCache","Object","create","BaseTextureCache","destroyTextureCache","key","destroy","clearTextureCache","CanvasRenderTarget","width","height","resolution","this","context","resize","prototype","clear","setTransform","clearRect","defineProperty","get","set","val","enumerable","configurable","trimCanvas","x","y","pixels","getImageData","data","bound","top","left","right","bottom","tempAnchor","DATA_URI","decomposeDataUri","dataUri","dataUriMatch","exec","mediaType","subType","charset","encoding","determineCrossOrigin","url","loc","location","href","parsedUrl","parse","samePort","port","hostname","protocol","getResolutionOfUrl","defaultValue","parseFloat"],"sourceRoot":""}