(self.webpackChunk=self.webpackChunk||[]).push([[6707],{1671:(t,e,i)=>{var n,o,r;o=[i(5062),i(1170)],void 0===(r="function"==typeof(n=function(t,e){var i=t.Point.prototype._round,n=function(){return this};function o(t,e,i){e?t.destroy():i||(t.autoPreventDefault=!1)}var r={options:{padding:.1,forceCanvas:!1,doubleBuffering:!1,resolution:t.Browser.retina?2:1,projectionZoom:function(t){var e=t.getMaxZoom(),i=t.getMinZoom();return e===1/0?i+8:(e+i)/2},destroyInteractionManager:!1,autoPreventDefault:!0,preserveDrawingBuffer:!1,clearBeforeRender:!0,shouldRedrawOnMove:function(){return!1}},initialize:function(i,n,o){t.setOptions(this,o),t.stamp(this),this._drawCallback=i,this._pixiContainer=n,this._rendererOptions={transparent:!0,resolution:this.options.resolution,antialias:!0,forceCanvas:this.options.forceCanvas,preserveDrawingBuffer:this.options.preserveDrawingBuffer,clearBeforeRender:this.options.clearBeforeRender},this._doubleBuffering=e.utils.isWebGLSupported()&&!this.options.forceCanvas&&this.options.doubleBuffering},_setMap:function(){},_setContainerStyle:function(){},_addContainer:function(){this.getPane().appendChild(this._container)},_setEvents:function(){},onAdd:function(i){if(this._setMap(i),!this._container){var n=this._container=t.DomUtil.create("div","leaflet-pixi-overlay");n.style.position="absolute",this._renderer=e.autoDetectRenderer(this._rendererOptions),o(this._renderer.plugins.interaction,this.options.destroyInteractionManager,this.options.autoPreventDefault),n.appendChild(this._renderer.view),this._zoomAnimated&&(t.DomUtil.addClass(n,"leaflet-zoom-animated"),this._setContainerStyle()),this._doubleBuffering&&(this._auxRenderer=e.autoDetectRenderer(this._rendererOptions),o(this._auxRenderer.plugins.interaction,this.options.destroyInteractionManager,this.options.autoPreventDefault),n.appendChild(this._auxRenderer.view),this._renderer.view.style.position="absolute",this._auxRenderer.view.style.position="absolute")}this._addContainer(),this._setEvents();var r=this._map;this._initialZoom=this.options.projectionZoom(r),this._wgsOrigin=t.latLng([0,0]),this._wgsInitialShift=r.project(this._wgsOrigin,this._initialZoom),this._mapInitialZoom=r.getZoom();var s=this;this.utils={latLngToLayerPoint:function(e,i){return i=void 0===i?s._initialZoom:i,r.project(t.latLng(e),i)},layerPointToLatLng:function(e,i){i=void 0===i?s._initialZoom:i;var n=t.point(e);return r.unproject(n,i)},getScale:function(t){return void 0===t?r.getZoomScale(r.getZoom(),s._initialZoom):r.getZoomScale(t,s._initialZoom)},getRenderer:function(){return s._renderer},getContainer:function(){return s._pixiContainer},getMap:function(){return s._map}},this._update({type:"add"})},onRemove:function(){t.DomUtil.remove(this._container)},getEvents:function(){var t={zoom:this._onZoom,move:this._onMove,moveend:this._update};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onMove:function(t){this.options.shouldRedrawOnMove(t)&&this._update(t)},_updateTransform:function(e,i){var n=this._map.getZoomScale(i,this._zoom),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,i),s=o.multiplyBy(-n).add(r).subtract(this._map._getNewPixelOrigin(e,i));t.Browser.any3d?t.DomUtil.setTransform(this._container,s,n):t.DomUtil.setPosition(this._container,s)},_redraw:function(t,e){this._disableLeafletRounding();var i=this._map.getZoomScale(this._zoom,this._initialZoom),n=this._map.latLngToLayerPoint(this._wgsOrigin)._subtract(this._wgsInitialShift.multiplyBy(i))._subtract(t);this._pixiContainer.scale.set(i),this._pixiContainer.position.set(n.x,n.y),this._drawCallback(this.utils,e),this._enableLeafletRounding()},_update:function(e){if(!this._map._animatingZoom||!this._bounds){var i=this.options.padding,n=this._map.getSize(),o=this._map.containerPointToLayerPoint(n.multiplyBy(-i)).round();if(this._bounds=new t.Bounds(o,o.add(n.multiplyBy(1+2*i)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom(),this._doubleBuffering){var r=this._renderer;this._renderer=this._auxRenderer,this._auxRenderer=r}var s=this._renderer.view,a=this._bounds,h=this._container,d=a.getSize();if(!this._renderer.size||this._renderer.size.x!==d.x||this._renderer.size.y!==d.y){if(this._renderer.gl&&(this._renderer.resolution=this.options.resolution,this._renderer.rootRenderTarget&&(this._renderer.rootRenderTarget.resolution=this.options.resolution)),this._renderer.resize(d.x,d.y),s.style.width=d.x+"px",s.style.height=d.y+"px",this._renderer.gl){var u=this._renderer.gl;if(u.drawingBufferWidth!==this._renderer.width){var l=this.options.resolution*u.drawingBufferWidth/this._renderer.width;this._renderer.resolution=l,this._renderer.rootRenderTarget&&(this._renderer.rootRenderTarget.resolution=l),this._renderer.resize(d.x,d.y)}}this._renderer.size=d}if(this._doubleBuffering){var _=this;requestAnimationFrame((function(){_._redraw(a.min,e),_._renderer.gl.finish(),s.style.visibility="visible",_._auxRenderer.view.style.visibility="hidden",t.DomUtil.setPosition(h,a.min)}))}else this._redraw(a.min,e),t.DomUtil.setPosition(h,a.min)}},_disableLeafletRounding:function(){t.Point.prototype._round=n},_enableLeafletRounding:function(){t.Point.prototype._round=i},redraw:function(t){return this._map&&(this._disableLeafletRounding(),this._drawCallback(this.utils,t),this._enableLeafletRounding()),this}};t.version>="1"?t.PixiOverlay=t.Layer.extend(r):(t.Map.prototype.getZoomScale=function(t,e){var i=this.options.crs;return e=void 0===e?this._zoom:e,i.scale(t)/i.scale(e)},t.DomUtil.setTransform=function(e,i,n){var o=i||new t.Point(0,0);e.style[t.DomUtil.TRANSFORM]=(t.Browser.ie3d?"translate("+o.x+"px,"+o.y+"px)":"translate3d("+o.x+"px,"+o.y+"px,0)")+(n?" scale("+n+")":"")},r.includes=t.Mixin.Events,r.addTo=function(t){return t.addLayer(this),this},r._setMap=function(t){this._map=t,this._zoomAnimated=t._zoomAnimated},r._setContainerStyle=function(){var t=this;["-webkit-transform-origin","-ms-transform-origin","transform-origin"].forEach((function(e){t._container.style[e]="0 0"}))},r._addContainer=function(){this._map.getPanes()[this.options.pane||"overlayPane"].appendChild(this._container)},r._setEvents=function(){var t=this.getEvents();for(var e in t)this._map.on(e,t[e],this)},r.onRemove=function(){this._map.getPanes()[this.options.pane||"overlayPane"].removeChild(this._container);var t=this.getEvents();for(var e in t)this._map.off(e,t[e],this)},t.PixiOverlay=t.Class.extend(r)),t.pixiOverlay=function(e,i,n){return t.Browser.canvas?new t.PixiOverlay(e,i,n):null}})?n.apply(e,o):n)||(t.exports=r)}}]);