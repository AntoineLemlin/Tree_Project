{"version":3,"file":"js/bfe9a97e5922bf59350c.js","mappings":"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","sources":["webpack:///../../node_modules/leaflet-pixi-overlay/L.PixiOverlay.js"],"sourcesContent":["// Leaflet.PixiOverlay\n// version: 1.8.2\n// author: Manuel Baclet <mbaclet@gmail.com>\n// license: MIT\n\n(function (factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD\n\t\tdefine(['leaflet', 'pixi.js'], factory);\n\t} else if (typeof module !== 'undefined') {\n\t\t// Node/CommonJS\n\t\tmodule.exports = factory(require('leaflet'), require('pixi.js'));\n\t} else {\n\t\t// Browser globals\n\t\tif (typeof window.L === 'undefined') {\n\t\t\tthrow new Error('Leaflet must be loaded first');\n\t\t}\n\t\tif (typeof window.PIXI === 'undefined') {\n\t\t\tthrow new Error('Pixi.js must be loaded first');\n\t\t}\n\t\tfactory(window.L, window.PIXI);\n\t}\n}(function (L, PIXI) {\n\n\tvar round = L.Point.prototype._round;\n\tvar no_round = function () {return this;};\n\n\tfunction setInteractionManager(interactionManager, destroyInteractionManager, autoPreventDefault) {\n\t\tif (destroyInteractionManager) {\n\t\t\tinteractionManager.destroy();\n\t\t} else if (!autoPreventDefault) {\n\t\t\tinteractionManager.autoPreventDefault = false;\n\t\t}\n\t}\n\n  function projectionZoom(map) {\n    var maxZoom = map.getMaxZoom();\n    var minZoom = map.getMinZoom();\n    if (maxZoom === Infinity) return minZoom + 8;\n\n    return (maxZoom + minZoom) / 2;\n  }\n\n\tvar pixiOverlayClass = {\n\n\t\toptions: {\n\t\t\t// @option padding: Number = 0.1\n\t\t\t// How much to extend the clip area around the map view (relative to its size)\n\t\t\t// e.g. 0.1 would be 10% of map view in each direction\n\t\t\tpadding: 0.1,\n\t\t\t// @option forceCanvas: Boolean = false\n\t\t\t// Force use of a 2d-canvas\n\t\t\tforceCanvas: false,\n\t\t\t// @option doubleBuffering: Boolean = false\n\t\t\t// Help to prevent flicker when refreshing display on some devices (e.g. iOS devices)\n\t\t\t// It is ignored if rendering is done with 2d-canvas\n\t\t\tdoubleBuffering: false,\n\t\t\t// @option resolution: Number = 1\n\t\t\t// Resolution of the renderer canvas\n\t\t\tresolution: L.Browser.retina ? 2 : 1,\n\t\t\t// @option projectionZoom(map: map): Number\n\t\t\t// return the layer projection zoom level\n\t\t\tprojectionZoom: projectionZoom,\n\t\t\t// @option destroyInteractionManager:  Boolean = false\n\t\t\t// Destroy PIXI Interaction Manager\n\t\t\tdestroyInteractionManager: false,\n\t\t\t// @option\n\t\t\t// Customize PIXI Interaction Manager autoPreventDefault property\n\t\t\t// This option is ignored if destroyInteractionManager is set\n\t\t\tautoPreventDefault: true,\n\t\t\t// @option resolution: Boolean = false\n\t\t\t// Enables drawing buffer preservation\n\t\t\tpreserveDrawingBuffer: false,\n\t\t\t// @option resolution: Boolean = true\n\t\t\t// Clear the canvas before the new render pass\n\t\t\tclearBeforeRender: true,\n\t\t\t// @option shouldRedrawOnMove(e: moveEvent): Boolean\n\t\t\t// filter move events that should trigger a layer redraw\n\t\t\tshouldRedrawOnMove: function () {return false;},\n\t\t},\n\n\t\tinitialize: function (drawCallback, pixiContainer, options) {\n\t\t\tL.setOptions(this, options);\n\t\t\tL.stamp(this);\n\t\t\tthis._drawCallback = drawCallback;\n\t\t\tthis._pixiContainer = pixiContainer;\n\t\t\tthis._rendererOptions = {\n\t\t\t\ttransparent: true,\n\t\t\t\tresolution: this.options.resolution,\n\t\t\t\tantialias: true,\n\t\t\t\tforceCanvas: this.options.forceCanvas,\n\t\t\t\tpreserveDrawingBuffer: this.options.preserveDrawingBuffer,\n\t\t\t\tclearBeforeRender: this.options.clearBeforeRender\n\t\t\t};\n\t\t\tthis._doubleBuffering = PIXI.utils.isWebGLSupported() && !this.options.forceCanvas &&\n\t\t\t\tthis.options.doubleBuffering;\n\t\t},\n\n\t\t_setMap: function () {},\n\n\t\t_setContainerStyle: function () {},\n\n\t\t_addContainer: function () {\n\t\t\tthis.getPane().appendChild(this._container);\n\t\t},\n\n\t\t_setEvents: function () {},\n\n\t\tonAdd: function (targetMap) {\n\t\t\tthis._setMap(targetMap);\n\t\t\tif (!this._container) {\n\t\t\t\tvar container = this._container = L.DomUtil.create('div', 'leaflet-pixi-overlay');\n\t\t\t\tcontainer.style.position = 'absolute';\n\t\t\t\tthis._renderer = PIXI.autoDetectRenderer(this._rendererOptions);\n\t\t\t\tsetInteractionManager(\n\t\t\t\t\tthis._renderer.plugins.interaction,\n\t\t\t\t\tthis.options.destroyInteractionManager,\n\t\t\t\t\tthis.options.autoPreventDefault\n\t\t\t\t);\n\t\t\t\tcontainer.appendChild(this._renderer.view);\n\t\t\t\tif (this._zoomAnimated) {\n\t\t\t\t\tL.DomUtil.addClass(container, 'leaflet-zoom-animated');\n\t\t\t\t\tthis._setContainerStyle();\n\t\t\t\t}\n\t\t\t\tif (this._doubleBuffering) {\n\t\t\t\t\tthis._auxRenderer = PIXI.autoDetectRenderer(this._rendererOptions);\n\t\t\t\t\tsetInteractionManager(\n\t\t\t\t\t\tthis._auxRenderer.plugins.interaction,\n\t\t\t\t\t\tthis.options.destroyInteractionManager,\n\t\t\t\t\t\tthis.options.autoPreventDefault\n\t\t\t\t\t);\n\t\t\t\t\tcontainer.appendChild(this._auxRenderer.view);\n\t\t\t\t\tthis._renderer.view.style.position = 'absolute';\n\t\t\t\t\tthis._auxRenderer.view.style.position = 'absolute';\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis._addContainer();\n\t\t\tthis._setEvents();\n\n\t\t\tvar map = this._map;\n\t\t\tthis._initialZoom = this.options.projectionZoom(map);\n\t\t\tthis._wgsOrigin = L.latLng([0, 0]);\n\t\t\tthis._wgsInitialShift = map.project(this._wgsOrigin, this._initialZoom);\n\t\t\tthis._mapInitialZoom = map.getZoom();\n\t\t\tvar _layer = this;\n\n\t\t\tthis.utils = {\n\t\t\t\tlatLngToLayerPoint: function (latLng, zoom) {\n\t\t\t\t\tzoom = (zoom === undefined) ? _layer._initialZoom : zoom;\n\t\t\t\t\tvar projectedPoint = map.project(L.latLng(latLng), zoom);\n\t\t\t\t\treturn projectedPoint;\n\t\t\t\t},\n\t\t\t\tlayerPointToLatLng: function (point, zoom) {\n\t\t\t\t\tzoom = (zoom === undefined) ? _layer._initialZoom : zoom;\n\t\t\t\t\tvar projectedPoint = L.point(point);\n\t\t\t\t\treturn map.unproject(projectedPoint, zoom);\n\t\t\t\t},\n\t\t\t\tgetScale: function (zoom) {\n\t\t\t\t\tif (zoom === undefined) return map.getZoomScale(map.getZoom(), _layer._initialZoom);\n\t\t\t\t\telse return map.getZoomScale(zoom, _layer._initialZoom);\n\t\t\t\t},\n\t\t\t\tgetRenderer: function () {\n\t\t\t\t\treturn _layer._renderer;\n\t\t\t\t},\n\t\t\t\tgetContainer: function () {\n\t\t\t\t\treturn _layer._pixiContainer;\n\t\t\t\t},\n\t\t\t\tgetMap: function () {\n\t\t\t\t\treturn _layer._map;\n\t\t\t\t}\n\t\t\t};\n\t\t\tthis._update({type: 'add'});\n\t\t},\n\n\t\tonRemove: function () {\n\t\t\tL.DomUtil.remove(this._container);\n\t\t},\n\n\t\tgetEvents: function () {\n\t\t\tvar events = {\n\t\t\t\tzoom: this._onZoom,\n\t\t\t\tmove: this._onMove,\n\t\t\t\tmoveend: this._update\n\t\t\t};\n\t\t\tif (this._zoomAnimated) {\n\t\t\t\tevents.zoomanim = this._onAnimZoom;\n\t\t\t}\n\t\t\treturn events;\n\t\t},\n\n\t\t_onZoom: function () {\n\t\t\tthis._updateTransform(this._map.getCenter(), this._map.getZoom());\n\t\t},\n\n\t\t_onAnimZoom: function (e) {\n\t\t\tthis._updateTransform(e.center, e.zoom);\n\t\t},\n\n\t\t_onMove: function(e) {\n\t\t\tif (this.options.shouldRedrawOnMove(e)) {\n\t\t\t\tthis._update(e);\n\t\t\t}\n\t\t},\n\n\t\t_updateTransform: function (center, zoom) {\n\t\t\tvar scale = this._map.getZoomScale(zoom, this._zoom),\n\t\t\t\tviewHalf = this._map.getSize().multiplyBy(0.5 + this.options.padding),\n\t\t\t\tcurrentCenterPoint = this._map.project(this._center, zoom),\n\n\t\t\t\ttopLeftOffset = viewHalf.multiplyBy(-scale).add(currentCenterPoint)\n\t\t\t\t\t.subtract(this._map._getNewPixelOrigin(center, zoom));\n\n\t\t\tif (L.Browser.any3d) {\n\t\t\t\tL.DomUtil.setTransform(this._container, topLeftOffset, scale);\n\t\t\t} else {\n\t\t\t\tL.DomUtil.setPosition(this._container, topLeftOffset);\n\t\t\t}\n\t\t},\n\n\t\t_redraw: function(offset, e) {\n\t\t\tthis._disableLeafletRounding();\n\t\t\tvar scale = this._map.getZoomScale(this._zoom, this._initialZoom),\n\t\t\t\tshift = this._map.latLngToLayerPoint(this._wgsOrigin)\n\t\t\t\t._subtract(this._wgsInitialShift.multiplyBy(scale))._subtract(offset);\n\t\t\tthis._pixiContainer.scale.set(scale);\n\t\t\tthis._pixiContainer.position.set(shift.x, shift.y);\n\t\t\tthis._drawCallback(this.utils, e);\n\t\t\tthis._enableLeafletRounding();\n\t\t},\n\n\t\t_update: function (e) {\n\t\t\t// is this really useful?\n\t\t\tif (this._map._animatingZoom && this._bounds) {return;}\n\n\t\t\t// Update pixel bounds of renderer container\n\t\t\tvar p = this.options.padding,\n\t\t\t\tmapSize = this._map.getSize(),\n\t\t\t\tmin = this._map.containerPointToLayerPoint(mapSize.multiplyBy(-p)).round();\n\n\t\t\tthis._bounds = new L.Bounds(min, min.add(mapSize.multiplyBy(1 + p * 2)).round());\n\t\t\tthis._center = this._map.getCenter();\n\t\t\tthis._zoom = this._map.getZoom();\n\n\t\t\tif (this._doubleBuffering) {\n\t\t\t\tvar currentRenderer = this._renderer;\n\t\t\t\tthis._renderer = this._auxRenderer;\n\t\t\t\tthis._auxRenderer = currentRenderer;\n\t\t\t}\n\n\t\t\tvar view = this._renderer.view;\n\t\t\tvar b = this._bounds,\n\t\t\t\tcontainer = this._container,\n\t\t\t\tsize = b.getSize();\n\n\t\t\tif (!this._renderer.size || this._renderer.size.x !== size.x || this._renderer.size.y !== size.y) {\n\t\t\t\tif (this._renderer.gl) {\n\t\t\t\t\tthis._renderer.resolution = this.options.resolution;\n\t\t\t\t\tif (this._renderer.rootRenderTarget) {\n\t\t\t\t\t\tthis._renderer.rootRenderTarget.resolution = this.options.resolution;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._renderer.resize(size.x, size.y);\n\t\t\t\tview.style.width = size.x + 'px';\n\t\t\t\tview.style.height = size.y + 'px';\n\t\t\t\tif (this._renderer.gl) {\n\t\t\t\t\tvar gl = this._renderer.gl;\n\t\t\t\t\tif (gl.drawingBufferWidth !== this._renderer.width) {\n\t\t\t\t\t\tvar resolution = this.options.resolution * gl.drawingBufferWidth / this._renderer.width;\n\t\t\t\t\t\tthis._renderer.resolution = resolution;\n\t\t\t\t\t\tif (this._renderer.rootRenderTarget) {\n\t\t\t\t\t\t\tthis._renderer.rootRenderTarget.resolution = resolution;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis._renderer.resize(size.x, size.y);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tthis._renderer.size = size;\n\t\t\t}\n\n\t\t\tif (this._doubleBuffering) {\n\t\t\t\tvar self = this;\n\t\t\t\trequestAnimationFrame(function() {\n\t\t\t\t\tself._redraw(b.min, e);\n\t\t\t\t\tself._renderer.gl.finish();\n\t\t\t\t\tview.style.visibility = 'visible';\n\t\t\t\t\tself._auxRenderer.view.style.visibility = 'hidden';\n\t\t\t\t\tL.DomUtil.setPosition(container, b.min);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tthis._redraw(b.min, e);\n\t\t\t\tL.DomUtil.setPosition(container, b.min);\n\t\t\t}\n\t\t},\n\n\t\t_disableLeafletRounding: function () {\n\t\t\tL.Point.prototype._round = no_round;\n\t\t},\n\n\t\t_enableLeafletRounding: function () {\n\t\t\tL.Point.prototype._round = round;\n\t\t},\n\n\t\tredraw: function (data) {\n\t\t\tif (this._map) {\n\t\t\t\tthis._disableLeafletRounding();\n\t\t\t\tthis._drawCallback(this.utils, data);\n\t\t\t\tthis._enableLeafletRounding();\n\t\t\t}\n\t\t\treturn this;\n\t\t}\n\n\t};\n\n\tif (L.version >= \"1\") {\n\n\t\tL.PixiOverlay = L.Layer.extend(pixiOverlayClass);\n\n\t} else {\n\n\t\t// backport some leaflet@1.0.0 methods\n\t\tL.Map.prototype.getZoomScale = function (toZoom, fromZoom) {\n\t\t\tvar crs = this.options.crs;\n\t\t\tfromZoom = fromZoom === undefined ? this._zoom : fromZoom;\n\t\t\treturn crs.scale(toZoom) / crs.scale(fromZoom);\n\t\t};\n\n\t\tL.DomUtil.setTransform = function (el, offset, scale) {\n\t\t\tvar pos = offset || new L.Point(0, 0);\n\n\t\t\tel.style[L.DomUtil.TRANSFORM] =\n\t\t\t\t(L.Browser.ie3d ?\n\t\t\t\t\t'translate(' + pos.x + 'px,' + pos.y + 'px)' :\n\t\t\t\t\t'translate3d(' + pos.x + 'px,' + pos.y + 'px,0)') +\n\t\t\t\t(scale ? ' scale(' + scale + ')' : '');\n\t\t};\n\n\t\t// patch pixiOverlayClass for leaflet@0.7.7\n\t\tpixiOverlayClass.includes = L.Mixin.Events;\n\n\t\tpixiOverlayClass.addTo = function (map) {\n\t\t\tmap.addLayer(this);\n\t\t\treturn this;\n\t\t};\n\n\t\tpixiOverlayClass._setMap = function (map) {\n\t\t\tthis._map = map;\n\t\t\tthis._zoomAnimated = map._zoomAnimated;\n\t\t};\n\n\t\tpixiOverlayClass._setContainerStyle = function () {\n\t\t\tvar self = this;\n\t\t\t[\n\t\t\t\t'-webkit-transform-origin',\n\t\t\t\t'-ms-transform-origin',\n\t\t\t\t'transform-origin'\n\t\t\t].forEach(function (property) {\n\t\t\t\tself._container.style[property] = '0 0';\n\t\t\t});\n\t\t};\n\n\t\tpixiOverlayClass._addContainer = function () {\n\t\t\tthis._map.getPanes()[this.options.pane || 'overlayPane']\n\t\t\t\t.appendChild(this._container);\n\t\t};\n\n\t\tpixiOverlayClass._setEvents = function () {\n\t\t\tvar events = this.getEvents();\n\t\t\tfor (var evt in events) {\n\t\t\t\tthis._map.on(evt, events[evt], this);\n\t\t\t}\n\t\t};\n\n\t\tpixiOverlayClass.onRemove = function () {\n\t\t\tthis._map.getPanes()[this.options.pane || 'overlayPane']\n\t\t\t\t.removeChild(this._container);\n\t\t\tvar events = this.getEvents();\n\t\t\tfor (var evt in events) {\n\t\t\t\tthis._map.off(evt, events[evt], this);\n\t\t\t}\n\t\t};\n\n\t\tL.PixiOverlay = L.Class.extend(pixiOverlayClass);\n\n\t}\n\n\t// @factory L.pixiOverlay(drawCallback: function, pixiContainer: PIXI.Container, options?: L.PixiOverlay options)\n\t// Creates a PixiOverlay with the given arguments.\n\tL.pixiOverlay = function (drawCallback, pixiContainer, options) {\n\t\treturn L.Browser.canvas ? new L.PixiOverlay(drawCallback, pixiContainer, options) : null;\n\t};\n\n}));\n"],"names":["L","PIXI","round","Point","prototype","_round","no_round","this","setInteractionManager","interactionManager","destroyInteractionManager","autoPreventDefault","destroy","pixiOverlayClass","options","padding","forceCanvas","doubleBuffering","resolution","Browser","retina","projectionZoom","map","maxZoom","getMaxZoom","minZoom","getMinZoom","Infinity","preserveDrawingBuffer","clearBeforeRender","shouldRedrawOnMove","initialize","drawCallback","pixiContainer","setOptions","stamp","_drawCallback","_pixiContainer","_rendererOptions","transparent","antialias","_doubleBuffering","utils","isWebGLSupported","_setMap","_setContainerStyle","_addContainer","getPane","appendChild","_container","_setEvents","onAdd","targetMap","container","DomUtil","create","style","position","_renderer","autoDetectRenderer","plugins","interaction","view","_zoomAnimated","addClass","_auxRenderer","_map","_initialZoom","_wgsOrigin","latLng","_wgsInitialShift","project","_mapInitialZoom","getZoom","_layer","latLngToLayerPoint","zoom","undefined","layerPointToLatLng","point","projectedPoint","unproject","getScale","getZoomScale","getRenderer","getContainer","getMap","_update","type","onRemove","remove","getEvents","events","_onZoom","move","_onMove","moveend","zoomanim","_onAnimZoom","_updateTransform","getCenter","e","center","scale","_zoom","viewHalf","getSize","multiplyBy","currentCenterPoint","_center","topLeftOffset","add","subtract","_getNewPixelOrigin","any3d","setTransform","setPosition","_redraw","offset","_disableLeafletRounding","shift","_subtract","set","x","y","_enableLeafletRounding","_animatingZoom","_bounds","p","mapSize","min","containerPointToLayerPoint","Bounds","currentRenderer","b","size","gl","rootRenderTarget","resize","width","height","drawingBufferWidth","self","requestAnimationFrame","finish","visibility","redraw","data","version","PixiOverlay","Layer","extend","Map","toZoom","fromZoom","crs","el","pos","TRANSFORM","ie3d","includes","Mixin","Events","addTo","addLayer","forEach","property","getPanes","pane","evt","on","removeChild","off","Class","pixiOverlay","canvas"],"sourceRoot":""}