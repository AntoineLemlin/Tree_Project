"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7925],{4867:(t,e,r)=>{r.d(e,{UP:()=>b,d0:()=>c,vl:()=>S,Xz:()=>A});var n=r(4296),i=r(5880),a=r(8410),o=r(2876),s=r(6469),h=r(6658),l=r(2754),f=r(521),u=function(t,e){return u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])},u(t,e)},c=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},p=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var n in e){var i=e[n].match(/^[a-z]+/gm)[0],a=e[n].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var h=a[s].split("="),l=h[0],f=h[1].replace(/"/gm,""),u=parseFloat(f),p=isNaN(u)?f:u;o[l]=p}r[i].push(o)}var g=new c;return r.info.forEach((function(t){return g.info.push({face:t.face,size:parseInt(t.size,10)})})),r.common.forEach((function(t){return g.common.push({lineHeight:parseInt(t.lineHeight,10)})})),r.page.forEach((function(t){return g.page.push({id:parseInt(t.id,10),file:t.file})})),r.char.forEach((function(t){return g.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),r.kerning.forEach((function(t){return g.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),g},t}(),g=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new c,r=t.getElementsByTagName("info"),n=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),s=0;s<r.length;s++)e.info.push({face:r[s].getAttribute("face"),size:parseInt(r[s].getAttribute("size"),10)});for(s=0;s<n.length;s++)e.common.push({lineHeight:parseInt(n[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)e.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<a.length;s++){var h=a[s];e.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)e.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return e},t}(),d=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return g.test(e)}return!1},t.parse=function(t){var e=(new window.DOMParser).parseFromString(t,"text/xml");return g.parse(e)},t}(),v=[p,g,d];function m(t){for(var e=0;e<v.length;e++)if(v[e].test(t))return v[e];return null}function x(t,e,r,n,i,a){var o,s=r.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var l=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,u=Math.ceil(t.width/n)-l-2*f,c=Math.ceil(t.height/n)-l-2*f,p=s.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var d=p.length+1,v=1;v<d;++v)g.push(v/d);if(p.unshift(s[0]),g.unshift(0),p.push(s[s.length-1]),g.push(1),r.fillGradientType===h.M_.LINEAR_VERTICAL){o=e.createLinearGradient(u/2,f,u/2,c+f);var m=0,x=(a.fontProperties.fontSize+r.strokeThickness)/c;for(v=0;v<i.length;v++)for(var y=a.lineHeight*v,b=0;b<p.length;b++){var _=y/c+("number"==typeof g[b]?g[b]:b/p.length)*x,w=Math.max(m,_);w=Math.min(w,1),o.addColorStop(w,p[b]),m=w}}else{o=e.createLinearGradient(f,c/2,u+f,c/2);var A=p.length+1,S=1;for(v=0;v<p.length;v++){var I;I="number"==typeof g[v]?g[v]:S/A,o.addColorStop(I,p[v]),S++}}return o}function y(t,e,r,n,i,a,s){var h=r.text,l=r.fontProperties;e.translate(n,i),e.scale(a,a);var f=s.strokeThickness/2,u=-s.strokeThickness/2;e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=x(t,e,s,a,[h],r),e.strokeStyle=s.stroke,e.font=s.toFontString(),e.lineWidth=s.strokeThickness,e.textBaseline=s.textBaseline,e.lineJoin=s.lineJoin,e.miterLimit=s.miterLimit,e.fillStyle=x(t,e,s,a,[h],r),e.strokeStyle=s.stroke;var c=s.dropShadowColor,p=(0,o.hex2rgb)("number"==typeof c?c:(0,o.string2hex)(c));s.dropShadow?(e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+s.dropShadowAlpha+")",e.shadowBlur=s.dropShadowBlur,e.shadowOffsetX=Math.cos(s.dropShadowAngle)*s.dropShadowDistance,e.shadowOffsetY=Math.sin(s.dropShadowAngle)*s.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),s.stroke&&s.strokeThickness&&e.strokeText(h,f,u+r.lineHeight-l.descent),s.fill&&e.fillText(h,f,u+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var b=function(){function t(t,e,r){var i=t.info[0],a=t.common[0],h=t.page[0],l=(0,o.getResolutionOfUrl)(h.file),f={};this._ownsTextures=r,this.font=i.face,this.size=i.size,this.lineHeight=a.lineHeight/l,this.chars={},this.pageTextures=f;for(var u=0;u<t.page.length;u++){var c=t.page[u],p=c.id,g=c.file;f[p]=e instanceof Array?e[u]:e[g]}for(u=0;u<t.char.length;u++){var d=t.char[u],v=(p=d.id,d.page),m=t.char[u],x=m.x,y=m.y,b=m.width,_=m.height,w=m.xoffset,A=m.yoffset,S=m.xadvance;x/=l,y/=l,b/=l,_/=l,w/=l,A/=l,S/=l;var I=new n.Ae(x+f[v].frame.x/l,y+f[v].frame.y/l,b,_);this.chars[p]={xOffset:w,yOffset:A,xAdvance:S,kerning:{},texture:new s.xE(f[v].baseTexture,I),page:v}}for(u=0;u<t.kerning.length;u++){var E=t.kerning[u],P=E.first,T=E.second,k=E.amount;P/=l,T/=l,k/=l,this.chars[T]&&(this.chars[T].kerning[P]=k)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof c)i=e;else{var a=m(e);if(!a)throw new Error("Unrecognized data format for font.");i=a.parse(e)}r instanceof s.xE&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),a=i.chars,o=i.padding,l=i.resolution,f=i.textureWidth,u=i.textureHeight,p=function(t){"string"==typeof t&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,h=o;s<=h;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),g=r instanceof h.pn?r:new h.pn(r),d=f,v=new c;v.info[0]={face:g.fontFamily,size:g.fontSize},v.common[0]={lineHeight:g.fontSize};for(var m,x,b,_=0,w=0,A=0,S=[],I=0;I<p.length;I++){m||((m=document.createElement("canvas")).width=f,m.height=u,x=m.getContext("2d"),b=new s.VL(m,{resolution:l}),S.push(new s.xE(b)),v.page.push({id:S.length-1,file:""}));var E=h._A.measureText(p[I],g,!1,m),P=E.width,T=Math.ceil(E.height),k=Math.ceil(("italic"===g.fontStyle?2:1)*P);if(w>=u-T*l){if(0===w)throw new Error("[BitmapFont] textureHeight "+u+"px is too small for "+g.fontSize+"px fonts");--I,m=null,x=null,b=null,w=0,_=0,A=0}else if(A=Math.max(T+E.fontProperties.descent,A),k*l+_>=d)--I,w+=A*l,w=Math.ceil(w),_=0,A=0;else{y(m,x,E,_,w,l,g);var O=E.text.charCodeAt(0);v.char.push({id:O,page:S.length-1,x:_/l,y:w/l,width:k,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(P-(g.dropShadow?g.dropShadowDistance:0)-(g.stroke?g.strokeThickness:0))}),_+=(k+2*o)*l,_=Math.ceil(_)}}var C=new t(v,S,!0);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=C,C},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),_=[],w=[],A=function(t){function e(r,a){void 0===a&&(a={});var s=t.call(this)||this;s._tint=16777215,a.font&&((0,o.deprecation)("5.3.0","PIXI.BitmapText constructor style.font property is deprecated."),s._upgradeStyle(a));var h=Object.assign({},e.styleDefaults,a),l=h.align,f=h.tint,u=h.maxWidth,c=h.letterSpacing,p=h.fontName,g=h.fontSize;if(!b.available[p])throw new Error('Missing BitmapFont "'+p+'"');return s._activePagesMeshData=[],s._textWidth=0,s._textHeight=0,s._align=l,s._tint=f,s._fontName=p,s._fontSize=g||b.available[p].size,s._text=r,s._maxWidth=u,s._maxLineHeight=0,s._letterSpacing=c,s._anchor=new n.AB((function(){s.dirty=!0}),s,0,0),s._roundPixels=i.X.ROUND_PIXELS,s.dirty=!0,s._textureCache={},s}return function(t,e){function r(){this.constructor=t}u(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.updateText=function(){for(var t,e=b.available[this._fontName],r=this._fontSize/e.size,i=new n.E9,h=[],l=[],f=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=f.length,c=this._maxWidth*e.size/this._fontSize,p=null,g=0,d=0,v=0,m=-1,x=0,y=0,A=0,S=0;S<u;S++){var I=f.charCodeAt(S),E=f.charAt(S);if(/(?:\s)/.test(E)&&(m=S,x=g),"\r"!==E&&"\n"!==E){var P=e.chars[I];if(P){p&&P.kerning[p]&&(i.x+=P.kerning[p]);var T=w.pop()||{texture:s.xE.EMPTY,line:0,charCode:0,position:new n.E9};T.texture=P.texture,T.line=v,T.charCode=I,T.position.x=i.x+P.xOffset+this._letterSpacing/2,T.position.y=i.y+P.yOffset,h.push(T),i.x+=P.xAdvance+this._letterSpacing,g=i.x,A=Math.max(A,P.yOffset+P.texture.height),p=I,-1!==m&&c>0&&i.x>c&&(++y,(0,o.removeItems)(h,1+m-y,1+S-m),S=m,m=-1,l.push(x),d=Math.max(d,x),v++,i.x=0,i.y+=e.lineHeight,p=null)}}else l.push(g),d=Math.max(d,g),++v,++y,i.x=0,i.y+=e.lineHeight,p=null}var k=f.charAt(f.length-1);"\r"!==k&&"\n"!==k&&(/(?:\s)/.test(k)&&(g=x),l.push(g),d=Math.max(d,g));var O=[];for(S=0;S<=v;S++){var C=0;"right"===this._align?C=d-l[S]:"center"===this._align&&(C=(d-l[S])/2),O.push(C)}var M=h.length,z={},B=[],H=this._activePagesMeshData;for(S=0;S<H.length;S++)_.push(H[S]);for(S=0;S<M;S++){var N=(Y=h[S].texture).baseTexture.uid;if(!z[N]){if(!(q=_.pop())){var F=new a.xc,j=new a.rY(s.xE.EMPTY);q={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new a.Kj(F,j),vertices:null,uvs:null,indices:null}}q.index=0,q.indexCount=0,q.vertexCount=0,q.uvsCount=0,q.total=0;var L=this._textureCache;L[N]=L[N]||new s.xE(Y.baseTexture),q.mesh.texture=L[N],q.mesh.tint=this._tint,B.push(q),z[N]=q}z[N].total++}for(S=0;S<H.length;S++)-1===B.indexOf(H[S])&&this.removeChild(H[S].mesh);for(S=0;S<B.length;S++)B[S].mesh.parent!==this&&this.addChild(B[S].mesh);for(var S in this._activePagesMeshData=B,z){var D=(q=z[S]).total;if(!((null===(t=q.indices)||void 0===t?void 0:t.length)>6*D)||q.vertices.length<2*a.Kj.BATCHABLE_SIZE)q.vertices=new Float32Array(8*D),q.uvs=new Float32Array(8*D),q.indices=new Uint16Array(6*D);else for(var W=q.total,U=q.vertices,X=4*W*2;X<U.length;X++)U[X]=0;q.mesh.size=6*D}for(S=0;S<M;S++){var R=(E=h[S]).position.x+O[E.line];this._roundPixels&&(R=Math.round(R));var Y,G=R*r,J=E.position.y*r,Z=z[(Y=E.texture).baseTexture.uid],V=Y.frame,$=Y._uvs,K=Z.index++;Z.indices[6*K+0]=0+4*K,Z.indices[6*K+1]=1+4*K,Z.indices[6*K+2]=2+4*K,Z.indices[6*K+3]=0+4*K,Z.indices[6*K+4]=2+4*K,Z.indices[6*K+5]=3+4*K,Z.vertices[8*K+0]=G,Z.vertices[8*K+1]=J,Z.vertices[8*K+2]=G+V.width*r,Z.vertices[8*K+3]=J,Z.vertices[8*K+4]=G+V.width*r,Z.vertices[8*K+5]=J+V.height*r,Z.vertices[8*K+6]=G,Z.vertices[8*K+7]=J+V.height*r,Z.uvs[8*K+0]=$.x0,Z.uvs[8*K+1]=$.y0,Z.uvs[8*K+2]=$.x1,Z.uvs[8*K+3]=$.y1,Z.uvs[8*K+4]=$.x2,Z.uvs[8*K+5]=$.y2,Z.uvs[8*K+6]=$.x3,Z.uvs[8*K+7]=$.y3}for(var S in this._textWidth=d*r,this._textHeight=(i.y+e.lineHeight)*r,z){var q=z[S];if(0!==this.anchor.x||0!==this.anchor.y)for(var Q=0,tt=this._textWidth*this.anchor.x,et=this._textHeight*this.anchor.y,rt=0;rt<q.total;rt++)q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et,q.vertices[Q++]-=tt,q.vertices[Q++]-=et;this._maxLineHeight=A*r;var nt=q.mesh.geometry.getBuffer("aVertexPosition"),it=q.mesh.geometry.getBuffer("aTextureCoord"),at=q.mesh.geometry.getIndex();nt.data=q.vertices,it.data=q.uvs,at.data=q.indices,nt.update(),it.update(),at.update()}for(S=0;S<h.length;S++)w.push(h[S])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!b.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype._upgradeStyle=function(t){if("string"==typeof t.font){var e=t.font.split(" ");t.fontName=1===e.length?e[0]:e.slice(1).join(" "),e.length>=2&&(t.fontSize=parseInt(e[0],10))}else t.fontName=t.font.name,t.fontSize="number"==typeof t.font.size?t.font.size:parseInt(t.font.size,10)},e.prototype.destroy=function(e){var r=this._textureCache;for(var n in r)r[n].destroy(),delete r[n];this._textureCache=null,t.prototype.destroy.call(this,e)},e.registerFont=function(t,e){return(0,o.deprecation)("5.3.0","PIXI.BitmapText.registerFont is deprecated, use PIXI.BitmapFont.install"),b.install(t,e)},Object.defineProperty(e,"fonts",{get:function(){return(0,o.deprecation)("5.3.0","PIXI.BitmapText.fonts is deprecated, use PIXI.BitmapFont.available"),b.available},enumerable:!1,configurable:!0}),e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(l.W2),S=function(){function t(){}return t.add=function(){f.kC.setExtensionXhrType("fnt",f.kC.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=m(e.data);if(n)for(var i=t.getBaseUrl(this,e),a=n.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=b.install(a,o,!0),r())},h=0;h<a.page.length;++h){var l=a.page[h].file,u=i+l,c=!1;for(var p in this.resources){var g=this.resources[p];if(g.url===u){g.metadata.pageFile=l,g.texture?s(g):g.onAfterMiddleware.add(s),c=!0;break}}if(!c){var d={crossOrigin:e.crossOrigin,loadType:f.kC.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:l},e.metadata.imageMetadata),parentResource:e};this.add(u,d,s)}}else r()},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&("."===n&&(n=""),e.baseUrl&&n&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(n+="/")),(n=n.replace(e.baseUrl,""))&&"/"!==n.charAt(n.length-1)&&(n+="/"),n},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}()}}]);